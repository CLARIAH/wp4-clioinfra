print(paste0("NO 1412 lines in df:",files[j],", it has: ",nrow(nextContent)," instead"))
}
if (nrow(subset(nextContent,is.na(nextContent$`country name`)))>0){
print(paste0("NA country name: ",files[j],"-",nrow(nextContent)))
}
print(paste0(files[j],";",nrow(nextContent)))
#stop('Add a control for the additional columns')
if (ncol(nextContent)>ncol(ClioData)){
w1 = ncol(ClioData)+1
w2 = ncol(nextContent)
ClioData[c(w1:w2)] <- as.numeric(NA)
names(ClioData)[c(w1:w2)] <- c((max(suppressWarnings(as.numeric(names(ClioData))),na.rm = T)+1):max(suppressWarnings(as.numeric(names(nextContent))),na.rm = T))
ClioData <- ClioData[,names(nextContent)]
ClioData <- rbind(ClioData,nextContent)
} else if (ncol(nextContent)<ncol(ClioData)){
w1 = ncol(nextContent)+1
w2 = ncol(ClioData)
nextContent[c(w1:w2)] <- as.numeric(NA)
names(nextContent)[c(w1:w2)] <- c((max(suppressWarnings(as.numeric(names(nextContent))),na.rm = T)+1):max(suppressWarnings(as.numeric(names(ClioData))),na.rm = T))
nextContent <- nextContent[,names(ClioData)]
ClioData <- rbind(ClioData,nextContent)
} else {
ClioData <- rbind(ClioData,nextContent)
}
rm(nextContent,IndicatorName)
}
# add the "Labourers_wage-historical.xlsx" dataset
# Adding the columns to host the data
MissingFile <- "Labourers_Wage-historical.xlsx"
nextContent <- read.xlsx2(paste0(DataPath,MissingFile), sheetIndex=1, startRow = 3, stringsAsFactors = F, check.names = F,
colClasses = c("character",rep("numeric",2),"character",rep("numeric",520)))
nextContent[sapply(nextContent, is.nan)] <- NA
print(paste0(MissingFile,"-",nrow(nextContent)))
# add missing columns
w1 = ncol(nextContent)+1
w2 = w1+length(c(1500:1819))-1
nextContent[c(w1:w2)] <- NA
names(nextContent)[c(w1:w2)] <- c(1500:1819)
nextContent$Filename <- MissingFile
IndicatorName <- read.xlsx2(paste0(DataPath,MissingFile), sheetIndex=1, stringsAsFactors = F, check.names = F)
nextContent$Indicator <- names(IndicatorName)[1]
w1 = ncol(nextContent)+1
w2 = ncol(ClioData)
nextContent[c(w1:w2)] <- as.numeric(NA)
names(nextContent)[c(w1:w2)] <- c((max(suppressWarnings(as.numeric(names(nextContent))),na.rm = T)+1):max(suppressWarnings(as.numeric(names(ClioData))),na.rm = T))
nextContent <- nextContent[,names(ClioData)]
nextContent <- nextContent[rowSums(is.na(nextContent[,7:(ncol(nextContent)-2)]))<(ncol(nextContent)-8),]
ClioData <- rbind(ClioData,nextContent)
rm(nextContent,IndicatorName)
# bring the Filename &Indicator columns up front
ClioData <- ClioData[c(1:6,558,559,7:557)]
# total observations:
sum(rowSums(!is.na(ClioData[,9:(ncol(ClioData))])))
########################### Get the Country Identifiers right #######################
# now I need to add all the info about the country's region, names, ccode, iso3, etc.
UNmembers <- read_excel("/home/michalis/PhD/Clio Infra/Website/OFFICIAL NAMES OF THE UNITED NATIONS MEMBERSHIP.xls",sheet = 1)
ISO3166 <- read_excel("/home/michalis/PhD/Clio Infra/Website/ISO3166.xls",sheet = 1)
ISO3166$`French short name` <- NULL
UNregions <- read_excel("/home/michalis/PhD/Clio Infra/Website/WorldRegiondsUN_categorized.xls",sheet = 1)
#UNregions$numeric <- as.character(as.integer(UNregions$numeric))
# add the other identifying codes of the country
UNregions <- merge(UNregions,ISO3166,by.x = "numeric", by.y = "Numeric", all.x = T, all.y = T)
UNregions$UN_membership_name <- NA
# find the official name of the country:
for (i in 1:nrow(UNregions)){
if (!is.na(UNregions$country_name[i])){
if (sum(as.numeric(as.logical(grepl(UNregions$country_name[i], UNmembers$`OFFICIAL NAMES OF THE UNITED NATIONS MEMBERSHIP`))))==1){
UNregions$UN_membership_name[i] <- UNmembers$`OFFICIAL NAMES OF THE UNITED NATIONS MEMBERSHIP`[which(grepl(UNregions$country_name[i], UNmembers$`OFFICIAL NAMES OF THE UNITED NATIONS MEMBERSHIP`))]
}
if (sum(as.numeric(as.logical(grepl(UNregions$country_name[i], UNmembers$`OFFICIAL NAMES OF THE UNITED NATIONS MEMBERSHIP`))))>1){
print(paste0(UNregions$country_name[i],"-",i))
}
}
}
#### XXX check this ?####
# [1] "Congo-51"
# [1] "Dominica-61"
# [1] "Guinea-94"
# [1] "Ireland-107"
# [1] "Republic of Korea-117"
# [1] "Niger-160"
# [1] "Sudan-212"
UNregions$UN_membership_name[which(UNregions$country_name=="Venezuela (Bolivarian Republic of)")] <-
"Bolivarian Republic of Venezuela"
UNregions$UN_membership_name[which(UNregions$country_name=="Bolivia (Plurinational State of)")] <-
"Plurinational State of Bolivia"
UNregions$UN_membership_name[which(UNregions$country_name=="Congo")] <- "Republic of the Congo"
UNregions$UN_membership_name[which(UNregions$country_name=="Dominica")] <-
"Commonwealth of Dominica" # XXX double check this
UNregions$UN_membership_name[which(UNregions$country_name=="Guinea")] <-
"Republic of Guinea"
UNregions$UN_membership_name[which(UNregions$country_name=="Iran (Islamic Republic of)")] <- "Islamic Republic of Iran"
UNregions$UN_membership_name[which(UNregions$country_name=="Ireland")] <- "Ireland"
UNregions$UN_membership_name[which(UNregions$country_name=="Cote d'Ivoire")] <- "Republic of Côte d’Ivoire"
UNregions$UN_membership_name[which(UNregions$country_name=="Democratic People's Republic of Korea")] <- "Democratic People’s Republic of Korea"
UNregions$UN_membership_name[which(UNregions$country_name=="Republic of Korea")] <- "Republic of Korea"
UNregions$UN_membership_name[which(UNregions$country_name=="Lao People's Democratic Republic")] <- "Lao People’s Democratic Republic"
UNregions$UN_membership_name[which(UNregions$country_name=="Niger")] <- "Republic of the Niger" # XXX double check this and NGA
UNregions$UN_membership_name[which(UNregions$country_name=="Micronesia (Federated States of)")] <- "Federated States of Micronesia"
UNregions$UN_membership_name[which(UNregions$country_name=="Slovakia")] <- "Slovak Republic"
UNregions$UN_membership_name[which(UNregions$country_name=="Sudan")] <- "Republic of the Sudan"
UNregions$UN_membership_name[which(UNregions$country_name=="Switzerland")] <- "Swiss Confederation"
# check if there are some official UN membership names not used
UsedNames <- as.vector(subset(UNregions,!is.na(UNregions$UN_membership_name))[,12])
UNmembers$`OFFICIAL NAMES OF THE UNITED NATIONS MEMBERSHIP`[which(!(UNmembers$`OFFICIAL NAMES OF THE UNITED NATIONS MEMBERSHIP` %in% UsedNames))]
# ok now we got them all; "Slovak Republic"       "Republic of the Sudan" "Swiss Confederation" were missing
# Now we get the list of countries existing in clio infra datasets
#(but we only care about--and keep only--those with data):
CountriesList <- unique(ClioData$`country name`)
# now match all the countries in the data with naming information from sources above
# then get country codes and country names only
Countries <- ClioData[,c(1,2,3,4)]
# remove the duplicate country names
CountriesA <- Countries[!duplicated(Countries$`country name`),]
# remove the duplicate country codes
CountriesB <- Countries[!duplicated(Countries$ccode),]
# check countries with country codes that have unique country names
cntryB_list <- unique(CountriesB$`country name`)
# keep from the unique country names those that are not in the countryB list
CountriesA <- subset(CountriesA, !(CountriesA$`country name` %in% cntryB_list))
# merge the two lists (one that has unique names of countries with ccode,
# and the other that has unique names of countries that do not have a ccode)
Countries <- rbind(CountriesA,CountriesB)
# merge the two country lists with UNregions:
# part A are the countries with ccode in both lists, and they are matched like that;
# keeping the name of the ClioInfra dataset as well
names(Countries)[4] <- "ClioInfraCountryName"
GlobalMetadata <- merge(UNregions, Countries, by.x = "numeric", by.y = "ccode", all.x = T, all.y = T)
# Finally add the OECD regions: NEED TO UPDATE THE LIST WITH THE LATEST ONE BUT I COULD NOT FIND IT SO FAR
OECDregions <- read.csv("/home/michalis/PhD/Clio Infra/Website/oecdregions.csv", stringsAsFactors = F)
GlobalMetadata <- merge(GlobalMetadata, OECDregions, by.x = "numeric", by.y = "ccode", all.x = T, all.y = T)
# add the Webmapper numeric codes that correspond to the same name that correspond to each particular numeric ccode
# also get those along with the time period they correspond to as indicated in the datasets
GlobalMetadata$WebmapperNums <- NA
GlobalMetadata$WebmapperCodes <- NA
GlobalMetadata$WebmapperStartYears <- NA
GlobalMetadata$WebmapperEndYears <- NA
# using a single indicator subset so that there is no duplicate that I would need to remove; if I use the complete dataset and
# then the unique command I am loosing irrecoverably combinations of border year changes that have common number of duplicates
# at both start and end; besides for those that single out I would still have to correct it manually
for (i in 1:nrow(GlobalMetadata)){
TempClioData <- subset(ClioData,ClioData$`country name` == GlobalMetadata$ClioInfraCountryName[i])
if (nrow(TempClioData)>0){
TempClioData$StartEndYears <- paste0(TempClioData$`start year`,'-',TempClioData$`end year`)
if (!is.na(GlobalMetadata$numeric[i])){
if (nchar(paste0(unique(TempClioData$`Webmapper numeric code`[which(GlobalMetadata$numeric[i]==TempClioData$ccode)]), collapse = ";"))>0){
GlobalMetadata$WebmapperNums[i] <- paste0(unique(TempClioData$`Webmapper numeric code`[
which(TempClioData$`country name`==unique(TempClioData$`country name`[which(GlobalMetadata$numeric[i]==TempClioData$ccode)]))]), collapse = ";")
GlobalMetadata$WebmapperCodes[i] <- paste0(unique(TempClioData$`Webmapper code`[
which(TempClioData$`country name`==unique(TempClioData$`country name`[which(GlobalMetadata$numeric[i]==TempClioData$ccode)]))]), collapse = ";")
GlobalMetadata$WebmapperStartYears[i] <- paste0(nthsplit(strsplit(unique(TempClioData$StartEndYears[
which(TempClioData$`country name`==unique(TempClioData$`country name`[which(GlobalMetadata$numeric[i]==TempClioData$ccode)]))]),'-'),1), collapse = ";")
GlobalMetadata$WebmapperEndYears[i] <- paste0(nthsplit(strsplit(unique(TempClioData$StartEndYears[
which(TempClioData$`country name`==unique(TempClioData$`country name`[which(GlobalMetadata$numeric[i]==TempClioData$ccode)]))]),'-'),2), collapse = ";")
}
} else {
if (!is.na(GlobalMetadata$`Webmapper numeric code`[i])){
GlobalMetadata$WebmapperNums[i] <- paste0(unique(TempClioData$`Webmapper numeric code`[which(TempClioData$`country name`==GlobalMetadata$ClioInfraCountryName[i])]), collapse = ";")
GlobalMetadata$WebmapperCodes[i] <- paste0(unique(TempClioData$`Webmapper code`[which(TempClioData$`country name`==GlobalMetadata$ClioInfraCountryName[i])]), collapse = ";")
GlobalMetadata$WebmapperEndYears[i] <- paste0(nthsplit(strsplit(unique(TempClioData$StartEndYears[
which(TempClioData$`country name`==GlobalMetadata$ClioInfraCountryName[i])]),'-'),2), collapse = ";")
GlobalMetadata$WebmapperStartYears[i] <- paste0(nthsplit(strsplit(unique(TempClioData$StartEndYears[
which(TempClioData$`country name`==GlobalMetadata$ClioInfraCountryName[i])]),'-'),1), collapse = ";")
}
}
}
}
# also test which other have different number of year ends and beginnings, and correct them all:
for (i in 1:nrow(GlobalMetadata)){
if (!is.na(GlobalMetadata$WebmapperStartYears[i]) & !is.na(GlobalMetadata$WebmapperEndYears[i])){
if (nchar(GlobalMetadata$WebmapperStartYears[i])>nchar(GlobalMetadata$WebmapperEndYears[i])){
print(paste0(i,':::',GlobalMetadata$ClioInfraCountryName[i]))
}
}
}
GlobalMetadata$DataPoints <- NA
ClioData[ClioData==""]<-NA
# finally add a column if that country has any data or not:
AllCountryNames <- c()
for (i in 1:nrow(GlobalMetadata)){
GlobalMetadata$DataPoints[i] <-
sum(rowSums(!is.na(ClioData[which(as.numeric(ClioData$`Webmapper numeric code`) %in%
as.numeric(strsplit(GlobalMetadata$WebmapperNums[i],";")[[1]])),9:ncol(ClioData)])))
if (GlobalMetadata$DataPoints[i]>0){
# since it is only Clio that gives data then I only use the name of clio here:
#    AllCountryNames <- c(AllCountryNames,paste(GlobalMetadata$country_name[i],GlobalMetadata$`English short name`[i],
#    GlobalMetadata$UN_membership_name[i], GlobalMetadata$ClioInfraCountryName[i],GlobalMetadata$OECD_Country_Name[i],
#    GlobalMetadata$OECD_simple_name[i], sep=";", collapse = ""))
AllCountryNames <- c(AllCountryNames,GlobalMetadata$ClioInfraCountryName[i])
}
}
AllCountryNames <- AllCountryNames[!is.na(AllCountryNames)]
AllCountryNames <- unique(AllCountryNames)
GMWithDataCountries <- AllCountryNames
GMWithDataCountries <- sort(GMWithDataCountries)
length(GMWithDataCountries)
length(which(GlobalMetadata$DataPoints>0))
# the total observations from the main dataset:
sum(rowSums(!is.na(ClioData[,9:(ncol(ClioData))])))
# 872264
# and that of the GlobalMetadata must be the same:
sum(GlobalMetadata$DataPoints)
# 872264
# I get 211 countries with data, and so does the export from the code below:
# [this seems like an old comment, because now I do get 211 countries] I now get 143 countries with data from the above...
# try again:
GlobalMetadata$DataPoints <- NA
ClioData[ClioData==""]<-NA
# finally add a column if that country has any data or not:
AllCountryNames <- c()
for (i in 1:length(CountriesList)){
CountryData <- subset(ClioData,ClioData$`country name`==CountriesList[i])
GlobalMetadata$DataPoints[which(GlobalMetadata$ClioInfraCountryName==CountriesList[i])] <- sum(rowSums(!is.na(CountryData[,9:(ncol(CountryData))])))
if (GlobalMetadata$DataPoints[which(GlobalMetadata$ClioInfraCountryName==CountriesList[i])]>0){
AllCountryNames <- c(AllCountryNames,CountriesList[i])
}
}
AllCountryNames <- AllCountryNames[!is.na(AllCountryNames)]
AllCountryNames <- unique(AllCountryNames)
GMWithDataCountries <- AllCountryNames
GMWithDataCountries <- sort(GMWithDataCountries)
length(GMWithDataCountries)
length(which(GlobalMetadata$DataPoints>0))
# the total observations from the main dataset:
sum(rowSums(!is.na(ClioData[,9:(ncol(ClioData))])))
# 872264
# and that of the GlobalMetadata must be the same:
sum(GlobalMetadata$DataPoints, na.rm = T)
# 872264
# the loop below says 211:
NoDataCountries <- c()
CDWithDataCountries <- c()
for (k in 1:length(CountriesList)){
CountryData <- subset(ClioData,ClioData$`country name`==CountriesList[k])
# keep only rows that have not all elements of the specified columns NA
CountryData <- CountryData[rowSums(is.na(CountryData[,9:ncol(ClioData)]))<(ncol(ClioData)-8),]
if (nrow(CountryData)>0){
CDWithDataCountries <- c(CDWithDataCountries,CountriesList[k])
WriteXLS(CountryData, paste0(ExportPath,CountriesList[k],".xlsx"))
} else {
# I want to know the names of countries without data
#print(CountriesList[k])
NoDataCountries <- c(NoDataCountries,CountriesList[k])
}
rm(CountryData)
}
length(NoDataCountries)
# 278
length(CDWithDataCountries)
# 211
CDWithDataCountries[which(!CDWithDataCountries %in% GlobalMetadata$ClioInfraCountryName)]
# OK now lets identify those countries that are missing from the first loop:
# first check which of the 211 countries found with data in the second loop are not found as such by the first that gives 194
MissedCountries <- CDWithDataCountries[which(!(CDWithDataCountries %in% GMWithDataCountries))]
# those below used to be missing, but now they are ok!
#[1] "Ceylon"                       "Czechoslovakia"               "England"                      "Falklands"
#[5] "Gambia"                       "German Confederation"         "Hong Kong"                    "Ottoman"
#[9] "Persia"                       "Poland-Lithuania"             "Prussia"                      "West Germany"
#[13] "Yugoslavia"                   "USSR"                         "Germany Federal Republic"     "Egypt (United Arab Republic)"
#[17] "Yemen Arab Republic"
# save.image("~/PhD/Clio Infra/TempDebugging.RData")
# second check which of the countries found with data in the first loop are not found as such by the second
GMWithDataCountries[which(!(GMWithDataCountries %in% CDWithDataCountries))]
# character(0)
WriteXLS(GlobalMetadata,paste0(dirname(rstudioapi::getSourceEditorContext()$path),'/Aggregates/Global_Metadata.xls'))
# duplicates of the same territorial instances and merge their properties (e.g. ccode from Oecd for a country not having ccode before, like USSR)
# I now need to work for cases like USSR and Soviet Union.
# XXX note there are both USSR and Soviet Union on ClioInfra 'country names'
# which I think I need to substitute and also use the obsolete ISO3 code
# changes can be found here: https://en.wikipedia.org/wiki/ISO_3166-3
# For those countries with ClioInfraCountryName this should be correct already in the metadata file
# for the countries without such a name I need to manually inspect and correct line by line:
# I also need to assign groupings to those countries without any; those should be stated somewhere in a working paper
# on the website
# a great title for a dataframe :)
CountriesWithIssues <- subset(GlobalMetadata,is.na(GlobalMetadata$WebmapperNums))
WriteXLS(CountriesWithIssues,paste0(dirname(rstudioapi::getSourceEditorContext()$path),'/Aggregates/CountriesWithIssues.xls'))
# add a column for tracking numeric codes changes
GlobalMetadata$PredecessorNumeric <- NA
### is american samoa == east samoa?
### I think so based on the relevant wikipedia pages
# and I need to check with the names of countries in the GlobalMetadata
# if there are the duplicated as listed below (with different nowname numbers)
# OR check why the 2nd row names are usually not present now...
# for Bermuda merge rows 19 and 297
# now there is no row 297...
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="19")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="297")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="19")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="297")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="19")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="297")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="19")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="297")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="19")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="297")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="19")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="297")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="19")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="297")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="297")
### XXX clio infra Virgin Islands correspond to the US or UK version or none?
### XXX are Cooks and Cook islands the same?
# merge 58 and 277 for Czechoslovakia
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="58")] <- GlobalMetadata$`Webmapper code`[which(GlobalMetadata$ClioInfraCountryName=="Czechoslovakia")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="58")] <- GlobalMetadata$`Webmapper numeric code`[which(GlobalMetadata$ClioInfraCountryName=="Czechoslovakia")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="58")] <- GlobalMetadata$WebmapperNums[which(GlobalMetadata$ClioInfraCountryName=="Czechoslovakia")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="58")] <- GlobalMetadata$WebmapperCodes[which(GlobalMetadata$ClioInfraCountryName=="Czechoslovakia")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="58")] <- GlobalMetadata$WebmapperStartYears[which(GlobalMetadata$ClioInfraCountryName=="Czechoslovakia")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="58")] <- GlobalMetadata$WebmapperEndYears[which(GlobalMetadata$ClioInfraCountryName=="Czechoslovakia")]
GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="58")] <- GlobalMetadata$DataPoints[which(GlobalMetadata$ClioInfraCountryName=="Czechoslovakia")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="58")] <- GlobalMetadata$ClioInfraCountryName[which(GlobalMetadata$ClioInfraCountryName=="Czechoslovakia")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="277")
### XXX how to treat Ethiopia until 1993? this is a fundamental question with the treatment of historical entities
# merge 72 and 331 for Falkland
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="72")] <- GlobalMetadata$`Webmapper code`[which(GlobalMetadata$ClioInfraCountryName=="Falklands")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="72")] <- GlobalMetadata$`Webmapper numeric code`[which(GlobalMetadata$ClioInfraCountryName=="Falklands")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="72")] <- GlobalMetadata$WebmapperNums[which(GlobalMetadata$ClioInfraCountryName=="Falklands")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="72")] <- GlobalMetadata$WebmapperCodes[which(GlobalMetadata$ClioInfraCountryName=="Falklands")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="72")] <- GlobalMetadata$WebmapperStartYears[which(GlobalMetadata$ClioInfraCountryName=="Falklands")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="72")] <- GlobalMetadata$WebmapperEndYears[which(GlobalMetadata$ClioInfraCountryName=="Falklands")]
GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="72")] <- GlobalMetadata$DataPoints[which(GlobalMetadata$ClioInfraCountryName=="Falklands")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="72")] <- GlobalMetadata$ClioInfraCountryName[which(GlobalMetadata$ClioInfraCountryName=="Falklands")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="331")
# are 73 South Georgia and the South Sandwich Islands and 477 S Georgia the same
# what is the "Polynesia" entity on clioinfradata?
# 85 and 439 for Palestine,
# XXX but the dates end in 1945 and I need to provide additional ones
# also use PSE or WBG? or both?
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="85")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="439")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="85")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="439")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="85")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="439")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="85")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="439")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="85")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="439")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="85")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="439")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="85")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="439")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="439")
# now germany...
# 87 with 544 east germany:
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="87")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="544")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="87")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="544")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="87")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="544")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="87")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="544")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="87")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="544")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="87")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="544")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="87")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="544")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="544")
# 88 with 499 east germany:
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="88")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="499")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="88")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="499")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="88")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="499")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="88")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="499")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="88")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="499")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="88")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="499")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="88")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="499")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="499")
# XXX check what West Germany corresponds to on "geacron/1139", and "geacron/388" German Confederation
# Gibraltar, XXX needs expansion to present mapping, 90/339
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="90")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="339")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="90")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="339")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="90")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="339")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="90")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="339")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="90")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="339")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="90")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="339")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="90")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="339")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="339")
# Greenland, XXX needs expansion to present mapping, 93/345
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="93")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="345")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="93")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="345")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="93")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="345")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="93")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="345")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="93")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="345")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="93")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="345")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="93")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="345")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="345")
# Guadeloupe, XXX needs expansion to present mapping, 95/346
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="95")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="346")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="95")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="346")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="95")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="346")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="95")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="346")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="95")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="346")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="95")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="346")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="95")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="346")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="346")
# Guam, XXX needs expansion to present mapping, 96/347
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="96")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="347")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="96")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="347")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="96")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="347")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="96")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="347")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="96")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="347")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="96")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="347")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="96")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="347")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="347")
# Hong Kong, XXX needs expansion to present mapping, 104/357
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="104")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="357")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="104")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="357")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="104")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="357")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="104")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="357")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="104")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="357")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="104")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="357")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="104")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="357")]
GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="104")] <- GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="357")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="357")
# Martinique, XXX needs expansion to present mapping, 140/404
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="140")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="404")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="140")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="404")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="140")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="404")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="140")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="404")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="140")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="404")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="140")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="404")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="140")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="404")]
GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="140")] <- GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="404")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="404")
# Aruba, XXX needs expansion to present mapping, 158/281
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="158")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="281")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="158")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="281")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="158")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="281")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="158")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="281")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="158")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="281")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="158")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="281")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="158")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="281")]
GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="158")] <- GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="281")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="281")
# New Caledonia, XXX needs expansion to present mapping, 161/425
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="161")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="425")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="161")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="425")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="161")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="425")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="161")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="425")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="161")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="425")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="161")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="425")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="161")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="425")]
GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="161")] <- GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="425")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="425")
# I left Marianas as they where XXX
# Puerto Rico, XXX needs expansion to present mapping, 187/549
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="187")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="549")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="187")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="549")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="187")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="549")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="187")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="549")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="187")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="549")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="187")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="549")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="187")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="549")]
GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="187")] <- GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="549")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="549")
# Yemen: first merge: 216/503 for South Yemen
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="216")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="503")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="216")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="503")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="216")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="503")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="216")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="503")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="216")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="503")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="216")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="503")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="216")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="503")]
GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="216")] <- GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="503")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="503")
# Yemen: second merge: 259/543 for North Yemen
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="259")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="543")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="259")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="543")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="259")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="543")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="259")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="543")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="259")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="543")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="259")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="543")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="259")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="543")]
GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="259")] <- GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="543")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="543")
# and to both 216 and 543 give the geo regions of present day Yemen 260
GlobalMetadata$region[which(rownames(GlobalMetadata)=="216")] <- GlobalMetadata$region[which(rownames(GlobalMetadata)=="260")]
GlobalMetadata$region_numeric[which(rownames(GlobalMetadata)=="216")] <- GlobalMetadata$region_numeric[which(rownames(GlobalMetadata)=="260")]
GlobalMetadata$subregion[which(rownames(GlobalMetadata)=="216")] <- GlobalMetadata$subregion[which(rownames(GlobalMetadata)=="260")]
GlobalMetadata$subregion_numeric[which(rownames(GlobalMetadata)=="216")] <- GlobalMetadata$subregion_numeric[which(rownames(GlobalMetadata)=="260")]
GlobalMetadata$region[which(rownames(GlobalMetadata)=="259")] <- GlobalMetadata$region[which(rownames(GlobalMetadata)=="260")]
GlobalMetadata$region_numeric[which(rownames(GlobalMetadata)=="259")] <- GlobalMetadata$region_numeric[which(rownames(GlobalMetadata)=="260")]
GlobalMetadata$subregion[which(rownames(GlobalMetadata)=="259")] <- GlobalMetadata$subregion[which(rownames(GlobalMetadata)=="260")]
GlobalMetadata$subregion_numeric[which(rownames(GlobalMetadata)=="259")] <- GlobalMetadata$subregion_numeric[which(rownames(GlobalMetadata)=="260")]
# Sudan split:
GlobalMetadata$PredecessorNumeric[which(rownames(GlobalMetadata)=="218")] <- GlobalMetadata$numeric[which(rownames(GlobalMetadata)=="221")]
GlobalMetadata$PredecessorNumeric[which(rownames(GlobalMetadata)=="219")] <- GlobalMetadata$PredecessorNumeric[which(rownames(GlobalMetadata)=="218")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="221")
# Western Sahara: 220/527 XXX borders update
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="220")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="527")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="220")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="527")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="220")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="527")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="220")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="527")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="220")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="527")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="220")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="527")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="220")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="527")]
GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="220")] <- GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="527")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="527")
# USSR: 243/271
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="243")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="271")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="243")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="271")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="243")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="271")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="243")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="271")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="243")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="271")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="243")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="271")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="243")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="271")]
GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="243")] <- GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="271")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="271")
GlobalMetadata$`Alpha-2 code`[which(rownames(GlobalMetadata)=="243")] <- "SU"
GlobalMetadata$`Alpha-3 code`[which(rownames(GlobalMetadata)=="243")] <- "SUN"
GlobalMetadata$`English short name`[which(rownames(GlobalMetadata)=="243")] <- "Soviet Union"
# USSR with Soviet Union: 243/490
# here I need to merge the available webmappers in all columns keeping the 490;243 order
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="243")] <- paste(GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="490")],GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="243")],sep=";",collapse = ";")
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="243")] <- paste(GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="490")],GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="243")],sep=";",collapse = ";")
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="243")] <- paste(GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="490")],GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="243")],sep=";",collapse = ";")
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="243")] <- paste(GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="490")],GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="243")],sep=";",collapse = ";")
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="243")] <- paste(GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="490")],GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="243")],sep=";",collapse = ";")
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="243")] <- paste(GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="490")],GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="243")],sep=";",collapse = ";")
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="490")
# Yugoslavia: 262/547
GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="262")] <- GlobalMetadata$`Webmapper code`[which(rownames(GlobalMetadata)=="547")]
GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="262")] <- GlobalMetadata$`Webmapper numeric code`[which(rownames(GlobalMetadata)=="547")]
GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="262")] <- GlobalMetadata$ClioInfraCountryName[which(rownames(GlobalMetadata)=="547")]
GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="262")] <- GlobalMetadata$WebmapperNums[which(rownames(GlobalMetadata)=="547")]
GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="262")] <- GlobalMetadata$WebmapperCodes[which(rownames(GlobalMetadata)=="547")]
GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="262")] <- GlobalMetadata$WebmapperStartYears[which(rownames(GlobalMetadata)=="547")]
GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="262")] <- GlobalMetadata$WebmapperEndYears[which(rownames(GlobalMetadata)=="547")]
GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="262")] <- GlobalMetadata$DataPoints[which(rownames(GlobalMetadata)=="547")]
GlobalMetadata <- subset(GlobalMetadata,!rownames(GlobalMetadata)=="547")
